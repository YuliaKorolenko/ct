-- read uncommitted подходит, потому что только чтение и формирование статистики, +-1 место не сильно влияет на результат
-- однако в функции есть авторизация пользователя, и чтобы избежать ситуации, когда при изменении пароля/создании пользователя rollback, а мы несуществующему показываем данные
start transaction read only isolation level read committed;